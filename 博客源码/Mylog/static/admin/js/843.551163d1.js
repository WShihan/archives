"use strict";(self["webpackChunkmy_app_vue"]=self["webpackChunkmy_app_vue"]||[]).push([[843],{5843:function(e,t,l){l.r(t),l.d(t,{default:function(){return h}});var a=l(3396),r=l(9242);const i={class:"today"},d={class:"opt"};function o(e,t,l,o,n,f){const p=(0,a.up)("ElTableColumn"),s=(0,a.up)("ElTable"),u=(0,a.up)("Refresh"),h=(0,a.Q2)("loading");return(0,a.wy)(((0,a.wg)(),(0,a.iD)("div",i,[(0,a._)("div",d,[(0,a.wy)((0,a._)("input",{type:"date","onUpdate:modelValue":t[0]||(t[0]=e=>n.date=e)},null,512),[[r.nr,n.date]])]),(0,a.Wm)(s,{data:n.todayView,"row-key":"time"},{default:(0,a.w5)((()=>[(0,a.Wm)(p,{prop:"ip",width:"130",label:"IP",filters:f.getFilterData("ip"),"filter-method":f.filterHandler},null,8,["filters","filter-method"]),(0,a.Wm)(p,{prop:"province",width:"80",label:"省",filters:f.getFilterData("province"),"filter-method":f.filterHandler},null,8,["filters","filter-method"]),(0,a.Wm)(p,{prop:"city",width:"80",label:"市",filters:f.getFilterData("city"),"filter-method":f.filterHandler},null,8,["filters","filter-method"]),(0,a.Wm)(p,{prop:"device",width:"90",label:"设备",filters:f.getFilterData("device"),"filter-method":f.filterHandler},null,8,["filters","filter-method"]),(0,a.Wm)(p,{prop:"time",width:"80",label:"时间"}),(0,a.Wm)(p,{prop:"page",width:"200",label:"页面",filters:f.getFilterData("page"),"filter-method":f.filterHandler},null,8,["filters","filter-method"]),(0,a.Wm)(p,{prop:"referer",width:"200",label:"来源",filters:f.getFilterData("referer"),"filter-method":f.filterHandler},null,8,["filters","filter-method"]),(0,a.Wm)(p,{prop:"ua",label:"UA",filters:f.getFilterData("ua"),"filter-method":f.filterHandler},null,8,["filters","filter-method"])])),_:1},8,["data"]),(0,a.Wm)(u,{onRefresh:f.updateData},null,8,["onRefresh"])])),[[h,n.loading]])}var n=l(7580),f=l(558),p={name:"today",data(){return{todayView:[],loading:!1,date:""}},computed:{filters(){let e={};return this.todayView.forEach((t=>{for(let l in t)e[l]?e[l].includes(t[l])||e[l].push(t[l]):e[l]=[t[l]]})),e}},watch:{date(e){this.updateData()}},beforeMount(){this.date=(0,f.uC)()},methods:{getFilterData(e){let t=this.filters[e];return t?t.map((e=>({text:e,value:e}))):[]},filterHandler(e,t,l){const a=l["property"];return t[a]===e},updateData(){this.todayView.length=0,this.loading=!0,(0,n.M9)({type:"today",params:{date:this.date}}).then((e=>{e.data.data&&this.todayView.push(...e.data.data)})).finally((()=>{this.loading=!1}))}}},s=l(89);const u=(0,s.Z)(p,[["render",o],["__scopeId","data-v-4b51bd91"]]);var h=u}}]);
//# sourceMappingURL=843.551163d1.js.map